<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../elements/episode-api/episode-api.html">
<link rel="import" href="../../elements/episode-entity/episode-entity.html">
<link rel="import" href="../../elements/episode-list/episode-list.html">
<link rel="import" href="../../elements/episode-upcoming/episode-upcoming.html">
<link rel="import" href="../podcast-icons/podcast-icons.html">
<link rel="import" href="../../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="../../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../../bower_components/iron-icons/image-icons.html">
<link rel="import" href="../../bower_components/iron-icons/av-icons.html">
<link rel="import" href="../../bower_components/iron-icons/device-icons.html">
<link rel="import" href="../../bower_components/iron-icons/social-icons.html">

<script src="../../bower_components/page/page.js"></script>

<dom-module id="podcast-app">

  <link rel="import" type="css" href="podcast-app.css">

  <template>

    <episode-api episodes="{{episodes}}"></episode-api>

    <header>
      <h1>
        <iron-icon icon="podcast:logo"></iron-icon>
        Polymer <span>Podcast</span>
      </h1>

      <nav>
        <button active>
          <iron-icon icon="device:graphic-eq"></iron-icon>
          Episodes
        </button>
        <!-- <a href="#">
          <iron-icon icon="social:people"></iron-icon>
          The Hosts
          <button>(coming soon)</button>
        </a> -->
        <!-- https://itunes.apple.com/us/podcast/polymer-podcast/id999210514?mt=2 -->
        <button
          on-click="showSubscribe">
          <iron-icon icon="av:playlist-add"></iron-icon>
          Subscribe
        </button>
        <!-- <a
          href="https://itunes.apple.com/WebObjects/MZStore.woa/wa/viewPodcast?id=999210514&at="
          target="_blank">
          Subscribe
        </a> -->
      </nav>
    </header>

    <template is="dom-if" if="{{episodes.upcoming}}">
      <episode-upcoming episode="{{episodes.upcoming}}"></episode-upcoming>
    </template>

    <episode-list
      episodes="{{episodes}}"
      on-episode-synopsis--more-info="setEpisode">
    </episode-list>

    <episode-entity
      id="entity"
      episode="{{episode}}"
      on-episode-entity--close="unsetEpisode">
    </episode-entity>

    <episode-subscribe
      id="subscribe">
    </episode-subscribe>

  </template>

  <script src="podcast-app.js"></script>
</dom-module>
